plugins {
    id 'org.jetbrains.intellij' version '0.4.20'
    id 'org.jetbrains.kotlin.jvm' version '1.3.72'
}

group 'me.lensvol'
version '0.2.0-EAP-2006011937'

repositories {
    mavenCentral()
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

intellij {
    version ideaVersion
    updateSinceUntilBuild false
    pluginName 'intellij-blackconnect'
}

compileKotlin {
    kotlinOptions.jvmTarget = "1.8"
}

compileTestKotlin {
    kotlinOptions.jvmTarget = "1.8"
}

patchPluginXml {
    version project.version
    changeNotes """
      <p>0.2.0</p>
      <ul>
        <li>Option to trigger when saving changed files.</li>
        <li>Target syntax of specific Python versions.</li>
        <li>Initial support for "Jupyter" file type.</li>
        <li>Option to hide notifications about syntax errors.</li>
        <li>Fixed compatibility with IDEA 2019.3.5</li>
      </ul>

      <p>0.1.0:</p>
      <ul>
        <li>Initial release. Basic functionality implemented.</li>
      </ul>
      """
}